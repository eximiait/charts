applicationSetRoot:
  name: apps-root
  goTemplate: true
  baseChart:
    enabled: true
    url: https://gitlab.com/chart-base.git
    path: .
    targetRevision: main

applications:
  - name: app1
    argoProject:
      clusterResourceWhitelist:
      - group: '*'
        kind: Namespace
      namespaceResourceBlacklist:
      - group: '*'
        kind: Secret
    environments:
      - name: dev
        namespace: app1-dev
        cluster: https://kubernetes.default.svc
        argoApplicationName: app1-dev-gitops
        argoProjectName: app1
        appGitopsRepoURL: https://gitlab.com/app1-dev-gitops.git
        baseChart:
          parameters:
            - name: admin
              value: mbecca
        jwtTokens:
          - iat: 1712332996
            id: argocd-sync
      - name: test
        namespace: app1-test
        cluster: https://kubernetes.default.svc
        argoApplicationName: app1-test-gitops
        argoProjectName: app1
        appGitopsRepoURL: https://gitlab.com/app1-test-gitops.git
        jwtTokens:
          - iat: 7373737737
            id: argocd-sync
      - name: prod
        namespace: app1-prod
        cluster: https://api.prod.example.com:6443
        argoApplicationName: app1-prod-gitops
        argoProjectName: app1
        project:
          groupName: app1-prod-admin
        appGitopsRepoURL: https://gitlab.com/app1-prod-gitops.git
        jwtTokens:
          - iat: 9685485868
            id: argocd-sync
